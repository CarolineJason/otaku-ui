"use strict";(self.webpackChunkotaku_site=self.webpackChunkotaku_site||[]).push([[616],{"../otaku-ui/src/index.ts":(e,t,n)=>{n.d(t,{zx:()=>o,Mt:()=>I,rj:()=>_,P4:()=>D,TU:()=>M,II:()=>C,tl:()=>h,j8:()=>u});var a=n("../otaku-ui/node_modules/react/index.js"),o=function(e){var t=e.ghost,n=e.disabled,o=e.loading,r=e.children,l=e.icon,i=e.bgcolor,c=e.color,u=e.className,s=e.iconDirection,d=void 0===s?"left":s,m=e.type,f=void 0===m?"default":m,p=e.size,h=void 0===p?"middle":p,k=e.onClick,v=o?"otaku-icon-loading":l||"",E="left"===d?a.createElement(a.Fragment,null,v?a.createElement("span",{className:"iconfont otaku-button-icon "+v}):"",r):a.createElement(a.Fragment,null,r,v?a.createElement("span",{className:"iconfont otaku-button-icon "+v}):"");return a.createElement("button",{className:"\n        otaku-button\n        otaku-button-size-"+h+"\n        otaku-button-"+f+"\n        "+(n?"otaku-input-disabled":"")+"\n        "+(o?"otaku-button-loading":"")+"\n        "+(t?"otaku-button-"+f+"-ghost":"")+"\n        "+(null!=u?u:"")+"\n      ",style:{backgroundColor:i,borderColor:i,color:c},disabled:n||o,onClick:k},E)};var r=n("../otaku-ui/node_modules/number-precision/build/index.es.js"),l=n("../otaku-ui/node_modules/lodash/throttle.js"),i=n.n(l),c=function(e,t){for(var n=0,a=t.length,o=e.length;n<a;n++,o++)e[o]=t[n];return e};function u(e){var t=e.readonly,n=e.color,o=e.showScore,l=e.size,u=e.count,s=void 0===u?5:u,d=e.score,m=void 0===d?0:d,f=e.maxScore,p=void 0===f?10:f,h=e.textRender,k=(0,a.useState)(new Array(s).fill(void 0).map((function(){return{checked:!1,half:!1,click:!1}}))),v=k[0],E=k[1],g=(0,a.useState)(),y=g[0],N=g[1];(0,a.useEffect)((function(){x()}),[]);var b=function(e,t,n,a){t>=s&&(t=s);for(var o=e;o<t;o++)v[o].checked=n,v[o].half=a,h&&N(h(o,m));E(c([],v))},x=function(){var e=p/s;m%e==0&&b(0,m/e,!0,!1);if(m%2!=0){var t=m%2,n=r.ZP.minus(m,t),a=r.ZP.round(r.ZP.divide(n,e),0);b(0,a,!0,!1),b(a,a+1>=s?s:a+1,!1,!0)}},C=function(e,n){return function(){var a,o=e.target,r=Number(o.dataset.index);if(!t&&e.target.classList.contains("otaku-star")){if("mousemove"===n)b(0,r+1,!0,!1),h&&N(h(r+1,m));else if("mouseout"===n)for(var l=r;r>0;l--)(null===(a=v[l])||void 0===a?void 0:a.click)||(v[l].checked=!1),h&&N(h(l+1,m));else for(l=0;l<r;l++)v[l].checked=!0,v[l].click=!0,h&&N(h(l+1,m));E(c([],v))}}};return a.createElement("div",{className:"otaku-rate"},a.createElement("ul",{className:"otaku-star-container",onClick:function(e){return C(e,"click")()},onMouseMove:function(e){return i()(C(e,"mousemove"),20)()},onMouseOut:function(e){return i()(C(e,"mouseout"),20)()}},null==v?void 0:v.map((function(e,t){return a.createElement("li",{className:"\n                  otaku-star iconfont \n                  "+(e.checked?"otaku-icon-star-fill":e.half?"otaku-icon-star-half":"otaku-icon-star"),style:{color:n,fontSize:l},key:t,"data-index":t})})),o?a.createElement("li",{className:"otaku-rate-score"},m):y?a.createElement("li",{className:"otaku-rate-text "},y):""))}var s=n("../otaku-ui/node_modules/dayjs/dayjs.min.js"),d=n.n(s),m=n("../otaku-ui/node_modules/dayjs/plugin/isLeapYear.js"),f=n.n(m);d().extend(f());var p=function(e,t){for(var n=0,a=t.length,o=e.length;n<a;n++,o++)e[o]=t[n];return e};function h(e){var t=e.current,n=void 0===t?1:t,o=e.total,r=void 0===o?1:o,l=e.pageSize,i=void 0===l?10:l,c=e.slicePage,u=void 0===c?5:c,s=e.circle,d=void 0!==s&&s,m=e.pageChange,f=(0,a.useState)(n),h=f[0],k=f[1],v=function(e){var t=e.current,n=void 0===t?1:t,a=e.total,o=void 0===a?0:a,r=e.pageSize,l=void 0===r?10:r,i=e.slicePage,c=void 0===i?5:i;if(c%2!=1)throw new Error("slicePage 必须为奇数");var u=Math.ceil(o/l),s=c-1,d=s/2,m=[],f=[],h=u>c,k=n>c;if(k){for(var v=n>u-(d+1)?u-1:n+d,E=n>u-s?u-c:n-d;E<n;E++)m.push(E);for(E=n+1;E<=v;E++)E!==u&&f.push(E)}var g=0;g=1===u?0:u-2>c?c:u-2;var y=(k?p(p(p([],m),[n===u||1===n?void 0:n]),f):new Array(0===o?0:g).fill(void 0).map((function(e,t){return t+2}))).filter((function(e){return e}));return{pagination:y,showPrevMore:h&&2!==(null==y?void 0:y[0]),showNextMore:h&&(null==y?void 0:y[y.length-1])!==u-1,maxPage:u}}({current:h,total:r,pageSize:i,slicePage:u}),E=v.pagination,g=v.maxPage,y=v.showPrevMore,N=v.showNextMore,b=function(e,t){switch(e){case"left":k(h>1?--h:1);break;case"right":k(h<g?++h:g);break;default:k(t)}null==m||m(h)},x=function(e){return a.createElement("li",{key:e,"data-page":e,className:"\n          otaku-pagination-item \n          "+(d?"is-circle":"")+"\n          "+(h===e?"otaku-pagination-item-acitve":"")+"\n        ",onClick:function(){return b("center",e)}},e)};return a.createElement("ul",{className:"otaku-pagination"},a.createElement("li",{className:"otaku-pagination-prev "+(d?"is-circle":""),onClick:function(){return b("left")}},a.createElement("span",{className:"iconfont otaku-icon-left"})),x(1),y?a.createElement("li",{className:"otaku-pagination-prev-more"},a.createElement("span",{className:"iconfont otaku-icon-more-line"}),a.createElement("span",{className:"iconfont otaku-icon-doubleleft"})):"",null==E?void 0:E.map((function(e){return x(e)})),N?a.createElement("li",{className:"otaku-pagination-next-more"},a.createElement("span",{className:"iconfont otaku-icon-more-line"}),a.createElement("span",{className:"iconfont otaku-icon-doubleright"})):"",g>1&&x(g),a.createElement("li",{className:"otaku-pagination-next "+(d?"is-circle":""),onClick:function(){return b("right")}},a.createElement("span",{className:"iconfont otaku-icon-right"})))}var k=n("../otaku-ui/node_modules/dayjs/plugin/isBetween.js"),v=n.n(k),E=function(e,t){for(var n=0,a=t.length,o=e.length;n<a;n++,o++)e[o]=t[n];return e};d().extend(v());var g=function(e,t){void 0===e&&(e=new Date),void 0===t&&(t="YYYY-MM-DD");var n=d()(e);return{dayjs:n,dateFormat:n.format(t),date:n.toDate(),timestamp:n.toDate().getTime()}};function y(e){var t=e.date,n=e.firstWeek,o=void 0===n?"日":n,r=e.format,l=void 0===r?"YYYY-MM-DD":r,i=e.disabled,c=e.onClick,u=(0,a.useState)(d()(t).format("YYYY-M-D")),s=u[0],m=u[1],f=function(e,t){return void 0===t&&(t="日"),(0,a.useMemo)((function(){for(var n=d()(e),a=[31,n.isLeapYear()?29:28,31,30,31,30,31,31,30,31,30,31],o=[],r=[],l=[],i=n.month(),c=n.year()+"-"+(i+1)+"-1",u=0===d()(c).day()?7:d()(c).day(),s=d()(c).subtract(u,"day"),m="一"===t?s.date():s.date()-1,f=a[s.month()],p=42-a[i]-(f-m),h=m;h<f;h++)o.push(h);for(h=1;h<=a[i];h++)r.push(h);for(h=1;h<=p;h++)l.push(h);return{prev:o,current:r,next:l}}),[e])}(s,o),p=d()(s),h=p.year(),k=p.month(),v=["一","二","三","四","五","六"],y="一"===o?E(E([],v),["日"]):E(["日"],v);(0,a.useEffect)((function(){m(d()(t).format("YYYY-M-D"))}),[t,s]);return a.createElement("div",{className:"otaku-calendar-container"},a.createElement("ul",{className:"otaku-calendar-week"},y.map((function(e,t){return a.createElement("li",{key:t},e)}))),a.createElement("ul",{className:"otaku-calendar-month",onClick:function(e){var t=e.target.dataset,n=t.type,a=t.date;"true"!==t.disabled&&a&&"current"===n&&(m(a),null==c||c(g(a,l)))}},Object.values(f).map((function(e,t){return 1===t?e.map((function(e){var t=h+"-"+(k+1)+"-"+e,n=d()().format("YYYY-M-D"),o="function"==typeof i?i(g(t,l)):i;return a.createElement("li",{key:t,"data-date":t,"data-disabled":o,"data-type":"current",className:"\n                      otaku-calender-date\n                      otaku-calendar-current\n                      "+(o?"otaku-calendar-disabled":"")+"\n                      "+(n===t?"otaku-calendar-today":"")+"\n                      "+(s===t?"otaku-calendar-active":"")+"\n                    "},e)})):e.map((function(e){var n=0===t?"prev":"next",o=function(e,t){var n=p["prev"===t?"subtract":"add"](1,"month");return d()(new Date(n.year(),n.month(),e)).format("YYYY-M-D")}(e,n);return a.createElement("li",{key:o,"data-date":o,className:"\n                    otaku-calender-date\n                    otaku-calendar-"+n+"\n                  "},e)}))}))))}function N(e){var t=e.date,n=e.onChange,o=(0,a.useState)(d()(t)),r=o[0],l=o[1];(0,a.useEffect)((function(){l(r)}),[r]);var i=function(e,t){var n="left"===t?r.subtract(1,e):r.add(1,e);l(n)};return a.createElement(a.Fragment,null,a.createElement("ul",{className:"otaku-datetime-picker-header"},a.createElement("li",null,a.createElement("span",{className:"iconfont otaku-icon-doubleleft",onClick:function(){return i("year","left")}})),a.createElement("li",null,a.createElement("span",null,r.year()+"年")),a.createElement("li",null,a.createElement("span",{className:"iconfont otaku-icon-doubleright",onClick:function(){return i("year","right")}}))),a.createElement("ul",{className:"otaku-month"},Array(12).fill(void 0).map((function(e,t){var o=t+1;return a.createElement("li",{className:"\n                  otaku-month-item\n                  "+(o===d()().month()+1?"otaku-datepicker-currentMonth":"")+"\n                  "+(r.month()+1===o?"active":"")+"\n                ",onClick:function(){return e=t,a=r.month(e),l(a),void(null==n||n(a));var e,a}},o,"月")}))))}function b(e){var t=e.date,n=e.onChange,o=(0,a.useState)(d()(t)),r=o[0],l=o[1],i=function(e){for(var t=[],n=10*Math.floor(e/10),a=n-1;a<=n+10;a++)t.push(a);return t}(r.year());(0,a.useEffect)((function(){l(r)}),[r]);var c=function(e,t){var n="left"===t?r.subtract(10,e):r.add(10,e);l(n)};return a.createElement(a.Fragment,null,a.createElement("ul",{className:"otaku-datetime-picker-header"},a.createElement("li",null,a.createElement("span",{className:"iconfont otaku-icon-doubleleft",onClick:function(){return c("year","left")}})),a.createElement("li",null,a.createElement("span",null,i[1]+" - "+i[10])),a.createElement("li",null,a.createElement("span",{className:"iconfont otaku-icon-doubleright",onClick:function(){return c("year","right")}}))),a.createElement("ul",{className:"otaku-datepicker-year",onClick:function(e){var t=+e.target.dataset.year;if(t){var a=d()(r.year(t));l(a),null==n||n(a)}}},i.map((function(e){return a.createElement("li",{"data-year":e,className:"\n                  "+(e===i[0]||i[i.length-1]===e?"gray":"")+"\n                  "+(e===d()().year()?"otaku-datepicker-currentYear":"")+"\n                  "+(r.year()===e?"active":"")+"\n                ",key:e},e)}))))}var x=function(){return(x=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function C(e){var t=e.value,n=e.placeholder,o=e.readonly,r=e.disabled,l=e.cols,i=e.rows,c=e.resize,u=e.className,s=e.style,d=e.beforeIcon,m=e.beforeNode,f=e.afterIcon,p=e.afterNode,h=e.showPassword,k=void 0!==h&&h,v=e.clear,E=e.type,g=void 0===E?"text":E,y=e.bgcolor,N=void 0===y?"white":y,b=e.border,C=void 0===b||b,w=e.size,Y=void 0===w?"middle":w,j=e.onBlur,I=e.onFocus,S=e.onChange,M=e.onInput,_=e.onClear,D=e.leftClick,z=e.rightClick,P=(0,a.useState)(""),F=P[0],B=P[1],L=(0,a.useState)(k),O=L[0],A=L[1];(0,a.useEffect)((function(){t&&(B(t),null==S||S(F))}),[t]);var T=function(e){B(e.target.value),null==S||S(F),null==M||M(F)};return a.createElement(a.Fragment,null,"textarea"!==g?a.createElement("div",{className:"otaku-input-box otaku-input-size-"+Y},m?a.createElement("div",{className:"otaku-input-container-before"},m):"",a.createElement("div",{className:"\n                  otaku-input-container\n                  "+(null!=u?u:"")+"\n                  "+(p?"otaku-input-after-border":"")+"\n                  "+(r?"otaku-input-disabled":"")+"\n                ",style:x({borderWidth:C?"1px":"0px",background:r?"#f7f7f7":N},s)},d?a.createElement("span",{className:"otaku-input-icon-left iconfont "+d,onClick:D}):"",a.createElement("input",{className:"\n                      otaku-input\n                    ",placeholder:n,type:g,value:F,disabled:r,readOnly:o,onChange:T,onInput:T,onBlur:j,onFocus:I}),"password"===g?a.createElement("span",{className:"\n                        otaku-input-icon-right \n                        iconfont \n                        show-password\n                        "+(O?"otaku-icon-eye-line":!1===O?"otaku-icon-eye-off-line":"")+"\n                      ",onClick:function(){A(O=!O)}}):"",v&&0!==F.length?a.createElement("span",{className:"\n                        otaku-input-icon-right \n                        iconfont \n                        close\n                        otaku-icon-close-circle-line\n                      ",onClick:function(){B(""),null==_||_()}}):"",f?a.createElement("span",{className:"otaku-input-icon-right iconfont "+f,onClick:z}):""),p?a.createElement("div",{className:"otaku-input-after"},p):""):a.createElement("div",{className:"otaku-textarea-container "+u,style:x({borderWidth:C?"1px":"0px",background:N},s)},a.createElement("textarea",{className:"\n                "+(r?"otaku-input-disabled":"")+"\n                otaku-input-textarea\n                "+u+"\n              ",style:{background:N,resize:c||"none"},cols:l,rows:i,placeholder:n,value:F,disabled:r,readOnly:o,onChange:T,onInput:T,onBlur:j,onFocus:I})))}var w=1,Y=function(){function e(e){var t=e.el,n=e.selector,a=void 0===n?"body":n,o=e.show,r=void 0===o||o;this.telportId=Symbol(""+w),this.numberId=w,this.map=new Map,this.el=t,this.zIndex=2e3,this.position={top:0,left:0,right:0,bottom:0},this.selector=a,this.show=r,w++,this.el.telportId||this.init(),this.show?this.showNode():this.hideNode()}return e.prototype.findNode=function(e){var t=this;return Array.of.apply(Array,null==e?void 0:e.children).find((function(e){return e.numberId===t.el.numberId}))},e.prototype.showNode=function(){var e=document.querySelector(this.selector);e&&(this.findNode(e).style.display="block")},e.prototype.hideNode=function(){var e=document.querySelector(this.selector);e&&(this.findNode(e).style.display="none")},e.prototype.init=function(){var e,t,n=document.querySelector(this.selector);if(n){var a=this.el.cloneNode(!0);this.position=null===(e=this.el)||void 0===e?void 0:e.getBoundingClientRect(),a.style.cssText="\n      display: "+(this.show?"none":"block")+";\n      z-index: "+this.zIndex+";\n      position: fixed;\n      top: "+this.position.top+"px;\n      left: "+this.position.left+"px;\n    ",a.numberId=this.numberId,a.telportId=this.telportId,this.el.numberId=this.numberId,this.el.telportId=this.telportId,this.map.set(this.telportId,this.el),n.appendChild(a);var o=this.el.parentElement,r=this.findNode(o);r&&(null===(t=this.el.parentElement)||void 0===t||t.removeChild(r))}},e.prototype.remove=function(){},e}();function j(e){var t=(0,a.useRef)(null),n=e.children,o=e.className,r=e.visible,l=void 0!==r&&r;e.onShow,e.onHide;return(0,a.useLayoutEffect)((function(){document.getElementsByClassName(""+o);new Y({el:t.current,show:l})}),[l]),a.createElement("div",{className:"otaku-popup "+(null!=o?o:""),ref:t,role:"tooltip"},n)}function I(e){var t=e.date,n=void 0===t?new Date:t,o=e.format,r=void 0===o?"YYYY-MM-DD":o,l=e.placeholder,i=void 0===l?"请选择日期":l,c=e.disabled,u=e.clear,s=void 0===u||u,m=e.onChange,f=(0,a.useState)(d()(n)),p=f[0],h=f[1],k=(0,a.useState)("calendar"),v=k[0],E=k[1],x=(0,a.useState)(""),w=x[0],Y=x[1],I=(0,a.useState)(!1),S=I[0],M=I[1],_=d()(p);(0,a.useEffect)((function(){}),[p,w]);var D=function(e,t){var n="left"===t?_.subtract(1,e):_.add(1,e);h(n),null==m||m(g(_,r))},z=function(e,t){h(d()(t)),E(e)};return a.createElement("div",{className:"datetime-picker-container"},a.createElement(C,{value:w,readonly:!0,disabled:c,clear:s,placeholder:i,onFocus:function(){M(!0)},onBlur:function(){M(!1)}}),a.createElement(j,{visible:S},a.createElement("div",{className:"otaku-datetime-picker"},"calendar"===v?a.createElement(a.Fragment,null,a.createElement("ul",{className:"otaku-datetime-picker-header"},a.createElement("li",null,a.createElement("span",{className:"iconfont otaku-icon-doubleleft",onClick:function(){return D("year","left")}}),a.createElement("span",{className:"iconfont otaku-icon-left",onClick:function(){return D("month","left")}})),a.createElement("li",null,a.createElement("span",{onClick:function(){return E("year")}},_.year(),"年"),a.createElement("span",{onClick:function(){return E("month")}},_.month()+1,"月")),a.createElement("li",null,a.createElement("span",{className:"iconfont otaku-icon-right",onClick:function(){return D("month","right")}}),a.createElement("span",{className:"iconfont otaku-icon-doubleright",onClick:function(){return D("year","right")}}))),a.createElement(y,{date:p,onClick:function(e){h(e.dayjs),Y(d()(e.dayjs).format(r)),null==m||m(e)}})):"year"===v?a.createElement(a.Fragment,null,a.createElement(b,{date:p,onChange:function(e){return z("month",e)}})):a.createElement(a.Fragment,null,a.createElement(N,{date:p,onChange:function(e){return z("calendar",e)}})),a.createElement("div",{className:"today"},"calendar"===v?a.createElement("span",{onClick:function(){var e=d()();h(e),Y(d()(e).format(r)),null==m||m(g(e,r))}},"今天"):""))))}n("../otaku-ui/node_modules/tippy.js/dist/tippy.css"),n("../otaku-ui/node_modules/tippy.js/themes/light.css"),n("../otaku-ui/node_modules/tippy.js/themes/light-border.css"),n("../otaku-ui/node_modules/tippy.js/themes/material.css"),n("../otaku-ui/node_modules/tippy.js/themes/translucent.css");var S=n("../../node_modules/highlight.js/es/common.js");function M(e){var t=e.lang,n=void 0===t?"typescript":t,o=e.code,r=(0,a.useState)(""),l=r[0],i=r[1];return(0,a.useLayoutEffect)((function(){var e=S.Z.highlight(o,{language:n,ignoreIllegals:!0}).value;i(e)})),a.createElement("div",{className:"otaku-code-container"},a.createElement("pre",null,a.createElement("code",{className:"otaku-code",dangerouslySetInnerHTML:{__html:l}})))}function _(e){var t=e.children;return a.createElement("ul",{className:"otaku-grid"},t)}function D(e){var t=e.children;return a.createElement("li",{className:"otaku-grid-item"},t)}},"./src/components/block/block.tsx":(e,t,n)=>{n.d(t,{Z:()=>o});var a=n("../../node_modules/react/index.js");const o=function(e){return a.createElement("div",{className:"otaku-block-container"},e.children)}},"./src/components/codeExample/codeExample.tsx":(e,t,n)=>{n.d(t,{A:()=>r});var a=n("../../node_modules/react/index.js"),o=n("../otaku-ui/src/index.ts");function r(e){var t=e.code,n=e.lang,r=e.desc,l=e.example;return a.createElement("div",{className:"otaku-code-example-container"},a.createElement("div",{className:"otaku-desc",dangerouslySetInnerHTML:{__html:r}}),a.createElement("div",{className:"otaku-example"},l),a.createElement(o.TU,{lang:n,code:t}))}}}]);